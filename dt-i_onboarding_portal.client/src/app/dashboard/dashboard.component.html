<section class="dashboard">
  <div class="container">
    <header class="dashboard-header">
      <h1 class="title">Dashboard</h1>
      <p class="subtitle">Onboarding Overview & Statistics</p>
    </header>

    <div class="alert alert--error" *ngIf="error">
      {{ error }}
    </div>

    <div class="loading" *ngIf="isLoading">
      <div class="spinner"></div>
      <p>Loading statistics...</p>
    </div>

    <div class="stats-grid" *ngIf="!isLoading && stats">
      <!-- Total New Joiners -->
      <div class="stat-card stat-card--primary">
        <div class="stat-icon">ğŸ‘¥</div>
        <div class="stat-content">
          <h3 class="stat-title">Total New Joiners</h3>
          <div class="stat-value">{{ stats.totalNewJoiners }}</div>
        </div>
      </div>

      <!-- Email Sent -->
      <div class="stat-card stat-card--success">
        <div class="stat-icon">âœ‰ï¸</div>
        <div class="stat-content">
          <h3 class="stat-title">Welcome Emails Sent</h3>
          <div class="stat-value">{{ stats.emailSent }}</div>
          <p class="stat-subtitle">{{ getEmailSuccessRate() }}% success rate</p>
        </div>
      </div>

      <!-- Email Failed -->
      <div class="stat-card stat-card--danger" *ngIf="stats.emailFailed > 0">
        <div class="stat-icon">âš ï¸</div>
        <div class="stat-content">
          <h3 class="stat-title">Email Issues</h3>
          <div class="stat-value">{{ stats.emailFailed }}</div>
          <p class="stat-subtitle">{{ getEmailFailureRate() }}% failed</p>
        </div>
      </div>

      <!-- Upcoming Joiners -->
      <div class="stat-card stat-card--info">
        <div class="stat-icon">ğŸ“…</div>
        <div class="stat-content">
          <h3 class="stat-title">Upcoming Joiners</h3>
          <div class="stat-value">{{ stats.upcomingJoiners }}</div>
          <p class="stat-subtitle">Starting soon</p>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions" *ngIf="!isLoading && stats">
      <h2>Quick Stats</h2>
      <div class="action-row">
        <div class="action-item">
          <span class="action-label">Onboarded:</span>
          <span class="action-value">{{ stats.totalNewJoiners - stats.upcomingJoiners }}</span>
        </div>
        <div class="action-item">
          <span class="action-label">Pending Emails:</span>
          <span class="action-value">{{ stats.totalNewJoiners - stats.emailSent - stats.emailFailed }}</span>
        </div>
        <div class="action-item">
          <span class="action-label">Success Rate:</span>
          <span class="action-value">{{ getEmailSuccessRate() }}%</span>
        </div>
      </div>
    </div>
  </div>
</section>
